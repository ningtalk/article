# MySQL
## MySQL逻辑架构
![MySQL逻辑架构图](https://github.com/npvip/article/blob/master/file/image/mysql%E9%80%BB%E8%BE%91%E6%9E%B6%E6%9E%84%E5%9B%BE.png)  

* 连接层
* 服务层
* 引擎层
* 存储层

### 连接层
与客户端的连接服务，包含本地socket通信，完成连接处理、权限认证、及安全方案，在该层进入了线程池的概念。
### 服务层
完成核心服务功能，包括连接器、查询缓存、分析器、优化器、执行器等。SQL接口、查询缓存、SQL的分析和优化以及部分内置函数的执行。  
所有跨存储引擎的功能都在这一层实现，如存储过程，触发器，视图等。  
### 引擎层
存储引擎负责MySQL的数据的存储和提取，服务层通过API与存储引擎进行通信，不同存储引擎具有不同的功能特性。
架构模式是插件式的，支持InnoDB，MyISAM,Memory等多种，`InnoDB`是MySQL5.5.5版本开始之后的默认存储引擎，是最流行的存储引擎。 
### 存储层
数据存储层，将数据存储在运行于设备的文件系统上，并完成与存储引擎的交互。



### 优化器
优化器的作用
* 表里有多个索引的时候，决定使用哪个索引 
* 一个语句有多个join的时候，决定各个表的连接顺序